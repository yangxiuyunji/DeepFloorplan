# DeepFloorplan 识别结果颜色说明

## 颜色编码含义

DeepFloorplan模型能够识别户型图中的不同房间类型和结构元素，每种元素用不同的颜色表示：

### 🏠 房间类型颜色编码

| 索引 | RGB值 | 颜色显示 | 房间类型 | 描述 |
|------|-------|----------|----------|------|
| 0 | [255,255,255] | ⬜ 白色 | Background | 背景/未识别区域 |
| 1 | [192,192,224] | 🟦 淡紫色 | Closet | 衣柜/储物间 |
| 2 | [192,255,255] | 🟦 浅青色 | Bathroom/Washroom | 卫生间/洗手间 |
| 3 | [224,255,192] | 🟩 浅绿色 | Living room/Kitchen/Dining room | 客厅/厨房/餐厅 |
| 4 | [255,224,128] | 🟨 浅橙色 | Bedroom | 卧室 |
| 5 | [255,160,96] | 🟧 橙色 | Hall | 走廊/过道 |
| 6 | [255,224,224] | 🟥 浅粉色 | Balcony | 阳台 |
| 7 | [255,255,255] | ⬜ 白色 | Not used | 未使用 |
| 8 | [255,255,255] | ⬜ 白色 | Not used | 未使用 |

### 🚪 结构元素颜色编码

| 索引 | RGB值 | 颜色显示 | 结构类型 | 描述 |
|------|-------|----------|----------|------|
| 9 | [255,60,128] | 🟥 深粉色 | Door & Window | 门和窗户开口 |
| 10 | [0,0,0] | ⬛ 黑色 | Wall | 墙体 |

## 🎨 实际效果说明

当你运行 `python demo.py --im_path=./demo/45719584.jpg` 后，会看到两个图像：

1. **左图**: 原始户型图
2. **右图**: AI识别结果，不同颜色区域代表：
   - **浅紫色区域** → 衣柜/储物空间
   - **浅青色区域** → 卫生间
   - **浅绿色区域** → 客厅/厨房/餐厅
   - **浅橙色区域** → 卧室  
   - **橙色区域** → 走廊/过道
   - **浅粉色区域** → 阳台
   - **深粉色线条** → 门窗开口
   - **黑色线条** → 墙体

## 🔧 技术细节

### 模型输出
模型实际输出两个分支：
1. **房间类型分支** (room_type): 识别不同的房间功能区域
2. **边界分支** (room_boundary): 识别墙体和门窗

### 融合逻辑
```python
# 最终结果融合
floorplan = room_type.copy()
floorplan[room_boundary==1] = 9  # 门窗
floorplan[room_boundary==2] = 10 # 墙体
```

### 不同映射表的用途
- `floorplan_room_map`: 仅房间类型
- `floorplan_boundary_map`: 仅边界元素
- `floorplan_fuse_map`: 房间类型+边界元素的完整映射
- `floorplan_fuse_map_figure`: 用于论文展示的配色方案

## 🎯 应用场景

这种颜色编码系统使得AI能够：
- 自动识别户型图中的各个功能区域
- 理解房屋的空间布局
- 提取建筑设计中的关键信息
- 支持建筑设计自动化和智能分析

通过这些颜色编码，你可以清楚地看到AI模型是如何理解和分析户型图的每个部分的！
